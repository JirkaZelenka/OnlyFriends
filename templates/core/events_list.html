{% extends 'base.html' %}

{% block title %}UdÃ¡losti - OnlyFriends{% endblock %}

{% block content %}
<div class="content-header">
    <h2>ğŸ“… UdÃ¡losti</h2>
    <p>VÅ¡echny plÃ¡novanÃ© a probÄ›hlÃ© akce</p>
    <a href="{% url 'core:event_create' %}" class="btn">â• PÅ™idat novou udÃ¡lost</a>
</div>

{% if events %}
<div class="card-grid">
    {% for event in events %}
    <div class="card">
        <h3>{{ event.title }}</h3>
        {% if event.event_type == 'secret' %}
            <span class="event-type-secret">ğŸ”’ TajnÃ¡ akce</span>
        {% else %}
            <span class="event-type-public">ğŸŒ VeÅ™ejnÃ¡ akce</span>
        {% endif %}
        <p>{{ event.description|truncatewords:20 }}</p>
        {% if event.location %}
            <p><strong>ğŸ“ MÃ­sto:</strong> {{ event.location }}</p>
        {% endif %}
        {% if event.organizer %}
            <p><strong>ğŸ‘¤ OrganizÃ¡tor:</strong> {{ event.organizer.username }}</p>
        {% endif %}
        {% if event.start_date %}
            <p><strong>ğŸ“… Datum:</strong> {{ event.start_date|date:"d.m.Y H:i" }}</p>
        {% endif %}
        <div class="card-meta">
            <a href="{% url 'core:event_detail' event.id %}" class="btn">Zobrazit detail</a>
            <a href="{% url 'core:event_edit' event.id %}" class="btn btn-secondary" style="margin-left: 10px;">âœï¸ Upravit</a>
        </div>
    </div>
    {% endfor %}
</div>
{% else %}
<div class="empty-state">
    <h3>ZatÃ­m Å¾Ã¡dnÃ© udÃ¡losti</h3>
    <p><a href="{% url 'core:event_create' %}" class="btn">VytvoÅ™it prvnÃ­ udÃ¡lost</a></p>
</div>
{% endif %}
{% endblock %}

