{% extends 'base.html' %}

{% block title %}Dluhy - OnlyFriends{% endblock %}

{% block content %}
<div class="content-header">
    <h2>ğŸ’° Dluhy (Tricount)</h2>
    <p>VypoÅ™Ã¡dÃ¡nÃ­ dluhÅ¯ mezi Äleny skupiny</p>
    <a href="{% url 'core:debt_create' %}" class="btn">â• PÅ™idat dluh</a>
</div>

{% if debts %}
<div class="card">
    <ul class="info-list">
        {% for debt in debts %}
        <li>
            <div>
                <strong>{{ debt.payer.username }}</strong> dluÅ¾Ã­ <strong>{{ debt.recipient.username }}</strong>
                <span class="badge badge-{% if debt.settled %}success{% else %}danger{% endif %}">
                    {{ debt.amount }} KÄ
                    {% if debt.settled %}âœ“ VyrovnÃ¡no{% else %}âš  NevyrovnÃ¡no{% endif %}
                </span>
                {% if debt.description %}
                    <p><em>{{ debt.description }}</em></p>
                {% endif %}
                {% if debt.event %}
                    <p><small>Akce: {{ debt.event.title }}</small></p>
                {% endif %}
                <p><small>{{ debt.created_at|date:"d.m.Y" }}</small></p>
                {% if not debt.settled %}
                    <div style="margin-top: 10px;">
                        <a href="{% url 'core:debt_settle' debt.id %}" class="btn" style="font-size: 0.9rem; padding: 5px 10px;">âœ… OznaÄit jako vyrovnanÃ½</a>
                    </div>
                {% endif %}
            </div>
        </li>
        {% endfor %}
    </ul>
</div>
{% else %}
<div class="empty-state">
    <h3>Å½Ã¡dnÃ© dluhy</h3>
    <p>VÅ¡echno je vyrovnÃ¡no! ğŸ‰</p>
</div>
{% endif %}
{% endblock %}

