{% extends 'base.html' %}

{% block title %}Mapy - OnlyFriends{% endblock %}

{% block content %}
<div class="content-header">
    <h2>üó∫Ô∏è Mapy</h2>
    <p>Pl√°nov√°n√≠ v√Ωlet≈Ø a ukl√°d√°n√≠ m√≠st do backlogu</p>
    <a href="{% url 'core:map_create' %}" class="btn">‚ûï P≈ôidat m√≠sto</a>
</div>

{% if locations %}
<div class="card-grid">
    {% for location in locations %}
    <div class="card">
        <h3>{{ location.name }}</h3>
        <span class="badge badge-{% if location.is_backlog %}warning{% else %}success{% endif %}">
            {% if location.is_backlog %}üìã Backlog{% else %}‚úÖ Pl√°nov√°no{% endif %}
        </span>
        <p><strong>Typ:</strong> {{ location.get_location_type_display }}</p>
        {% if location.description %}
            <p>{{ location.description|truncatewords:15 }}</p>
        {% endif %}
        <p><strong>üìç Sou≈ôadnice:</strong> {{ location.latitude }}, {{ location.longitude }}</p>
        {% if location.added_by %}
            <p><strong>P≈ôidal:</strong> {{ location.added_by.username }}</p>
        {% endif %}
        <div class="card-meta">
            <small>{{ location.created_at|date:"d.m.Y" }}</small>
            <div style="margin-top: 10px;">
                <a href="{% url 'core:map_edit' location.id %}" class="btn btn-secondary" style="font-size: 0.9rem; padding: 5px 10px;">‚úèÔ∏è Upravit</a>
            </div>
        </div>
    </div>
    {% endfor %}
</div>
{% else %}
<div class="empty-state">
    <h3>Zat√≠m ≈æ√°dn√° m√≠sta</h3>
    <p>P≈ôidejte m√≠sta v admin panelu.</p>
</div>
{% endif %}
{% endblock %}

